## План автоматизации тестирования комплексного сервиса, взаимодействующего с СУБД и API Банка.
___
### 1.Перечень автоматизируемых сценариев
___

**Проверяемая функциональность:** Приложение должно в собственной СУБД сохранять информацию о том, каким способом был совершён платёж и успешно ли он был совершён (при этом данные карт сохранять не допускается).

  Карты, предоставленные для тестирования в файле data.json:
- 4444 4444 4444 4441, status "APPROVED"
- 4444 4444 4444 4442, status "DECLINED"


  Характеристика вводимых валидных тестовых данных:
- поле *"Номер карты"*: 16 цифр
- поле *"Месяц"*: двузначное числовое значение от 01 до 12
- поле *"Год"*: двузначное числовое значение, обозначающее цифры порядкового номера текущего и последующего годов;
- поле *"Владелец"*: допустимые значения из латинских букв, дефисов, пробелов
- поле *"CVC/CCV"*: три цифры

*Приведенные ниже сценарии тестирования необходимо проверить для БД MySql и PostgreSQL*

Преднастройка: Открыть страницу http://localhost:8080. 

*Позитивные сценарии:*

1.Успешная покупка тура картой со статусом APPROVED
- Нажать "Купить"
- Вввести в поля формы валидные данные
- Нажать "Отправить"
Ожидаемый результат: Оплата проходит(данные об оплате появляются в базе). Появляется сообщение об успешной покупке тура.

2.Успешная покупка тура в кредит картой со статусом APPROVED
- Нажать "Купить в кредит"
- Вввести в поля формы валидные данные
- Нажать "Отправить"
  Ожидаемый результат: Оплата проходит(данные об оплате появляются в базе). Появляется сообщение об успешной покупке тура.

3.Покупка тура картой со статусом DECLINED
- Нажать "Купить"
- Вввести в поля формы валидные данные
- Нажать "Отправить"
  Ожидаемый результат: Оплата не проходит(в базе данных появляется информация, что покупка отклонена). Появляется сообщение об ошибке

4.Покупка тура в кредит картой со статусом DECLINED
- Нажать "Купить в кредит"
- Вввести в поля формы валидные данные
- Нажать "Отправить"
  Ожидаемый результат: Оплата не проходит(в базе данных появляется информация, что покупка отклонена). Появляется сообщение об ошибке

*Негативные сценарии:*

**Примечание:** Сценарии применяются для обоих способов оплаты тура (обычной дебетовой картой, выдачей кредита по данным банковской карты)
Преднастройка: 
Открыть страницу http://localhost:8080.
Нажать "Купить" - для оплаты дебетовой картой
Нажать "Купить в кредит" - для оплаты кредитом по карте 

5.Покупка тура с невалидным номером карты
- В поле "Номер карты" ввести 7-ми значный номер карты.
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"
  Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

6.Отправка формы с пустым полем "Номер карты"
- Оставить пустым поле "Номер карты"
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"
  Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

7.Отправка формы с невалидным месяцем (однозначное числовое значение)
- В поле "Месяц" ввести данные из 1 числового значения
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"
  Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

8.Отправка формы с невалидным месяцем (неверно указан срок действия карты)
- В поле "Месяц" ввести значение "13"
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"
  Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

9.Отправка формы с пустым полем "Месяц"
- Оставить пустым поле "Месяц"
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"
  Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

10.Отправка формы с невалидным годом (однозначное числовое значение)
- В поле "Год" ввести данные из 1 числового значения
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"
  Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

11.Отправка формы с невалидным годом (неверно указан срок действия карты)
- В поле "Год" ввести значение из чисел прошлого года
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"
  Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно

12.Отправка формы с пустым полем "Год"
- Оставить пустым поле "Год"
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"
  Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

13.Отправка формы с невалидным данными владельца (значение набрано кириллицей)
- В поле "Владелец" ввести значение на кириллице
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"
  Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

14.Отправка формы с введеными в поле "Владелец" цифровых значений и математических символов
- В поле "Владелец" ввести значение из цифр и матечатических символов
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"
  Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

15.Отправка формы с введеными в поле "Владелец" буквенных значений в нижнем и верхнем регистре
- В поле "Владелец" ввести значение из значения в нижнем и верхнем регистре
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"
  Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

16.Отправка формы с введеным в поле "Владелец" одного буквенного значения (минимальная длина поля)
- В поле "Владелец" ввести значение из одного значения
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"
  Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

17.Отправка формы с введеными в поле "Владелец" 270 буквенных значений (максимальная длина поля)
- В поле "Владелец" ввести значение из 270 значений
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"
  Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

18.Отправка формы с пустым полем "Владелец"
- Оставить пустым поле "Владелец"
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"
  Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

19.Отправка формы с невалидным CVC/CCV (однозначное числовое значение)
- В поле "CVC/CCV" ввест данные из 1 числового значения
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"
  Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

20.Отправка формы с пустым полем "CVC/CCV"
- Оставить пустым поле "CVC/CCV"
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"
  Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

21.Валидация поля "Месяц" на ввод нулевых значений
- В поле "Месяц" ввест данные иззначение "00"
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"
  Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

22.Валидация поля "Год" на ввод нулевых значений
- В поле "Год" ввест данные иззначение "00"
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"
  Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.
___
### 2.Перечень используемых инструментов с обоснованием выбора
___

* **Java 11** - последняя версия языка программирования с длительной поддержкой
* **IntelliJ IDEA** - интегрированная среда разработки программного обеспечения: написания авто-тестов, подключения библиотек, зависимостей
* **Gradle** - система управления зависимостями. 
    - **Lombok** - лагин для добавления дополнительных аннотаций
    - **JavaFaker** -библиотека для генерации тестовых данных.
* **JUnit Jupiter** - для запуска авто-тестов
* **Selenide** - для взаимодействия тестов с веб-интерфейсом
* **Docker&DockerCompose** - система контейнеризации приложений. Выбрана с целью экономии ресурсов хостовой машины
* **Allure** - для генерации подробных отчетов о прохождении авто-тестов
* **GitHub** - веб-сервис для хостинга проекта тестирования и его совместной разработки.
* **DBeaver** или любая другая программа для работы с базами данных

___
### 3. Перечень и описание возможных рисков при автоматизации
___

1. Отсутствие достаточного опыта у сотрудника, занимающегося настройкой и проведением автоматизированного тестирования.
2. Отсутствие документации по описанию работы приложения.
3. Технические трудности при настройке инструментов, необходимых для автоматизированного тестирования (Docker, симуляторов прилодения, CI, поиск селекторов на странице приложения)
4. Медленный интернет или его отсутствие

___
### 4. Интервальная оценка с учётом рисков (в часах)
___

1. Подготовка тестовой среды, настройка инструментов - 10-12 часов
2. Подготовка тестовых данных(дата генератор-класс, классы PageObjects) - 12 часов
3. Время на написание одного тестового сценария - 1-1,5 час (из расчета 22 тестового сценария - 33 часов)
4. Время на прогон автотестов - 4 часа
5. Время на составление отчета - 12 часов

**Итого:** 73 часа

___
### 5. План сдачи работ
___

- готовность автотестов - 12.12.2021
- отчет по результатам прогона автотестов - 16.12.2021
- отчет по автоматизации - 22.12.2021







